<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Резервное копирование</title>
    <link rel="stylesheet" type="text/css" href="semantic/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
  </head>
  <body>
    <div class="ui container">
      <header class="ui header">
        <h1 class="ui heading neon">Резервное копирование изображений</h1>
      </header>
      <div class="ui grid">
        <div class="row">
          <div class="column ten wide">
            <div class="ui large action input search-block">
              <input type="text" placeholder="Введите id пользователя">
              <button class="ui primary button replace">Заменить</button>
              <button class="ui primary button add">Добавить</button>
            </div>
          </div>
        </div>
        <div class="row images-wrapper">
          <div class="column ten wide images-list">
            <div class="ui grid">
              <div class="row">
              </div>
              <div class="row">
                <button class="ui disabled primary button select-all">Выбрать всё</button>
                <button class="ui primary button show-uploaded-files">Посмотреть загруженные файлы</button>
                <button class="ui primary disabled button send">Отправить на диск</button>
              </div>
            </div>
          </div>
          <!-- four wide column ui medium image-wrapper -->
          <div class="column six wide">
            <img class="ui fluid image" src="https://yugcleaning.ru/wp-content/themes/consultix/images/no-image-found-360x250.png">
          </div>
        </div>
      </div>
    </div>
    <div class="ui modal file-uploader-modal">
      <div class="header">Загрузка файлов <i class="x icon"></i></div>
      <div class="scrolling content">
      </div>
      <div class="actions">
        <div class="ui close button">Закрыть</div>
        <div class="ui send-all button">Отправить все файлы</div>
      </div>
    </div>
    <div class="ui modal uploaded-previewer-modal">
      <div class="header">Просмотр загруженных файлов<i class="x icon"></i></div>
      <div class="scrolling content">
        <i class="asterisk loading icon massive"></i>
      </div>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"></script>
    <script src="semantic/semantic.min.js"></script>
    <script src="js/api/createRequest.js"></script>
    <script src="js/api/VK.js"></script>
    <script src="js/api/Yandex.js"></script>


    <script src="js/ui/SearchBlock.js"></script>
    <script src="js/ui/ImageViewer.js"></script>
    <script src="js/ui/Modals/BaseModal.js"></script>
    <script src="js/ui/Modals/FileUploaderModal.js"></script>
    <script src="js/ui/Modals/PreviewModal.js"></script>
    <script src="js/App.js"></script>

    <script>
      App.init();
    </script>
      <!-- <script type="text/javascript">
         let script = document.createElement('SCRIPT');
        //  script.src = 'https://api.vk.com/method/photos.get?owner_id=815147892&access_token=958eb5d439726565e9333aa30e50e0f937ee432e927f0dbd541c541887d919a7c56f95c04217915c32008&v=5.199&callback=callbackFunc';
        //  script.src = 'https://api.vk.com/method/photos.get?owner_id=815147892&access_token=0001f91e0001f91e0001f91e0a0314ce60000010001f91e64ccd76a68249253c69ab758&album_id=profile&v=5.199&callback=callbackFunc'
         script.src = 'https://api.vk.com/method/photos.get?owner_id=381294659&access_token=0001f91e0001f91e0001f91e0a0314ce60000010001f91e64ccd76a68249253c69ab758&album_id=profile&v=5.199&callback=callbackFunc'
         document.body.insertAdjacentElement('beforeend', script);
        //  document.getElementsByTagName("head")[0].appendChild(script);
         function callbackFunc(result) {
          // result.responseType = "json";
          // const listAllPhotos = result.response.items.map(item => item.sizes[item.sizes.length - 1].url);
          // url самой большой фотографии или фотографий
          // console.log(result['response']['items']['0']['sizes'][result['response']['items']['0']['sizes']['length']-1]['url'])
          console.log(result['response'])
          // console.log(result.status)
          console.log(result.response.items.map(item => item.sizes[item.sizes.length - 1].url))
         }
    //     const xhr = new XMLHttpRequest();
    //       xhr.open('POST', 'https://cloud-api.yandex.net/v1/disk/resources/upload?path=%2Fphotos_from_vk%2Ffoo&url=https%3A%2F%2Fsun9-41.userapi.com%2Fs%2Fv1%2Fif1%2Fz6jTujiDgPCSQlS7uwvaua2BmTGKev-9EDXfLMUzpouN577VIHH2XOpYhBDMZLhtv863MA.jpg%3Fquality%3D96%26as%3D32x40%2C48x60%2C72x90%2C108x135%2C160x200%2C240x300%2C360x451%2C472x591%26from%3Dbu%26cs%3D472x591');
    //       xhr.responseType = 'json';
    //       xhr.setRequestHeader('Authorization', 'OAuth y0__xCErdabARjblgMgzKTGkhL_SNV3blJ-o4HboZrKusZHSYVbsw');
    //       xhr.send();
    //       xhr.addEventListener('load', () => {
    //       let resp = xhr.response; 
    //       console.log(xhr.status);
    // })
      </script> -->
  </body>
</html>